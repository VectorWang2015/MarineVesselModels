# ALOS参数消融实验：半尺度 vs 原尺度对比分析

*生成日期: 2026-02-03*
*实验对比: 半尺度(283m) vs 原尺度(566m)*

## 📊 实验概览

| 指标 | 原尺度实验 (566m) | 半尺度实验 (283m) | 变化 |
|------|-------------------|-------------------|------|
| **路径** | [(0,0)→(100,100)→(0,200)→(100,300)→(0,400)] | [(0,0)→(50,50)→(0,100)→(50,150)→(0,200)] | **-50%长度** |
| **总仿真次数** | 432 | 432 | 相同 |
| **完成率** | 95.8% (414/432) | 94.4% (408/432) | **-1.4%** |
| **失败原因** | 超时 (270°方向) | **发散** (30°/150°方向) | **失效模式改变** |
| **仿真时间** | 3000秒 (300000步) | 3000秒 (300000步) | 相同 |

## 🎯 关键发现

### 1. **270°时间问题完全解决**
- **原实验**: 所有参数组合在0.4 m/s、270°方向**超时失败** (18次失败)
- **半尺度**: 所有参数组合在270°方向**全部成功完成** (72次成功)
- **结论**: 路径缩短50%彻底解决了西向强流的时间预算问题

### 2. **失效模式转变: 超时→发散**
- **新失效场景**: 0.4 m/s、30°和150°方向
- **受影响参数**: 
  - **所有soft_reset**组合在σ=0.0-0.1
  - **所有no_reset**组合在σ=0.0-0.1  
  - **hard_reset仅在σ=0.1时失败**
- **hard_reset表现**: σ=0.0、0.01、0.005、0.003、0.001时**能完成**30°/150°场景

### 3. **soft_reset悖论持续**
| 参数组合 | 原尺度 | 半尺度 | 特性 |
|----------|--------|--------|------|
| **soft_reset, σ=0.003** | 平均分: 0.1564<br>胜率: 0.00% | 平均分: 0.2155<br>胜率: 0.00% | **最稳定，从不最优** |
| **hard_reset, σ=0.000** | 平均分: 0.1715<br>胜率: 29.17% | 平均分: 0.2735<br>胜率: 29.17% | **高胜率，不稳定** |
| **no_reset, σ=0.000** | 平均分: 0.2242<br>胜率: 34.78% | 平均分: 0.3719<br>胜率: 29.17% | **高胜率，高风险** |

**悖论解释**: soft_reset在所有场景表现稳定(0.12-0.31分)，**从不极好也从不极差**；hard_reset/no_reset在特定方向可获接近0的绝对最优分，但在不利方向表现差。

## 📈 性能排名对比

### 原尺度实验 Top 5
1. **soft_reset, σ=0.003** (0.1564) - 胜率0%
2. hard_reset, σ=0.000 (0.1715) - 胜率29%
3. soft_reset, σ=0.000 (0.1720) - 胜率0%
4. soft_reset, σ=0.005 (0.1728) - 胜率0%
5. soft_reset, σ=0.001 (0.1742) - 胜率0%

### 半尺度实验 Top 5  
1. **soft_reset, σ=0.003** (0.2155) - 胜率0%
2. soft_reset, σ=0.001 (0.2228) - 胜率0%
3. soft_reset, σ=0.000 (0.2296) - 胜率0%
4. soft_reset, σ=0.005 (0.2319) - 胜率4%
5. hard_reset, σ=0.001 (0.2700) - 胜率4%

### 排名一致性分析
- **soft_reset, σ=0.003** 在两个实验中均排名**第一**
- **前4名均为soft_reset**组合，显示稳定性优势
- **hard_reset**排名下降(原第2→半尺度第6)，因30°/150°场景表现影响

## 🧭 方向性性能分析

### 原尺度实验 (问题: 270°超时)
| 方向 | 最佳机制 | 特性 |
|------|----------|------|
| **90° (东向)** | hard_reset | 得分极低(~0.005)，CTE_RMSE≈3.06 |
| **270° (西向)** | **所有失败** | 时间不足，需要3375秒>3000秒 |
| **0°/180°** | soft_reset | 稳定中等表现 |
| **30°/150°** | soft_reset | 稳定中等表现 |

### 半尺度实验 (问题: 30°/150°发散)
| 方向 | 最佳机制 | 特性 |
|------|----------|------|
| **90° (东向)** | hard_reset | 仍表现最佳 |
| **270° (西向)** | **所有成功** | 时间问题解决 |
| **0°/180°** | soft_reset | 稳定中等表现 |
| **30°/150°** | **hard_reset (σ<0.1)** | 唯一能完成0.4 m/s场景 |

## 🔍 失效场景深度分析

### 30°/150°发散原因
1. **几何对抗性**: 30°/150°方向与Z形路径的**对角线航段**形成复杂对抗
2. **推力饱和**: 最大100N推力不足同时对抗0.4 m/s流和20N侧向力
3. **积分器饱和**: β估计可能超过β_max(30°)限制
4. **尺度效应**: 半尺度路径**转弯更频繁**，增加了控制难度

### hard_reset的韧性
**hard_reset (σ=0.0-0.001) 能完成30°/150°场景的原因**:
1. **积分重置**: 定期重置β积分器，防止饱和
2. **泄漏控制**: 低泄漏(σ<0.1)保持自适应能力
3. **复位机制**: 硬复位(α=0.0)提供更强的纠偏能力

## 🎯 工程建议

### 场景1: 追求绝对稳定性
**推荐**: `soft_reset with σ=0.003` (α=0.5, σ=0.003)

**适用**:
- 环境扰动方向未知或变化频繁
- 不允许任何方向的灾难性失败
- 可接受中等但一致的性能

**优点**: 最稳定，避免极端高CTE，参数鲁棒性好  
**缺点**: 从不在任何场景获得"最优"表现，在30°/150°方向可能发散

### 场景2: 追求极致性能  
**推荐**: `hard_reset with σ=0.000` (α=0.0, σ=0.000)

**适用**:
- 环境方向相对固定且已知
- 可接受在某些方向性能下降
- 追求在有利方向的最佳表现

**优点**: 东向(90°)表现极佳，能处理30°/150°场景，高胜率  
**缺点**: 性能不稳定(标准差高)，需要环境先验知识

### 场景3: 自适应混合策略
**基于环境估计的动态选择**:
1. **东向扰动(90°附近)**: 使用`hard_reset (α=0.0)`
2. **西向扰动(270°附近)**: 使用`soft_reset (α=0.5)`
3. **东北/西南(30°/150°)**: 使用`hard_reset with σ=0.000-0.001`
4. **其他方向**: 使用`soft_reset with σ=0.003`

## 🔧 参数调整建议

### 针对30°/150°发散问题
1. **增大β_max**: 从30°增加到45°-60°，允许更大侧滑角
2. **调整ψ_err_threshold**: 从15°增加到25°，放宽积分条件
3. **泄漏参数优化**: 对于hard_reset，使用σ=0.000-0.001
4. **期望速度调整**: 在强扰动方向降低期望速度以提高控制精度

### 针对尺度效应
1. **自适应lookahead**: 基于路径长度比例调整前视距离
2. **路径平滑**: 减少频繁转弯，增加航段长度
3. **速度规划**: 在转弯段降低期望速度

## 📊 定量对比总结

| 评估维度 | 原尺度(566m) | 半尺度(283m) | 优劣分析 |
|----------|--------------|--------------|----------|
| **时间可行性** | ❌ 270°超时 | ✅ 所有方向在时间内完成 | **半尺度胜** |
| **稳定性** | ✅ 仅时间问题 | ⚠️ 新增发散问题 | **原尺度稍优** |
| **排名一致性** | ✅ soft_reset最优 | ✅ soft_reset最优 | **一致** |
| **计算效率** | ⚠️ 3375秒/极端场景 | ✅ ~1688秒/极端场景 | **半尺度胜** |
| **工程实用性** | ❌ 需要增加时间预算 | ✅ 现有时间预算足够 | **半尺度胜** |

## 🚀 后续工作建议

1. **30°/150°发散分析**: 可视化失败场景，理解根本原因
2. **参数空间扩展**: 探索β_max(45°-60°)、ψ_err_threshold(20°-30°)
3. **自适应reset策略**: 基于环境估计的动态α调整
4. **多尺度验证**: 在不同路径长度上验证参数鲁棒性
5. **能量效率分析**: 比较不同机制完成相同路径的能量消耗

## 📝 结论

**半尺度路径方案成功解决了原实验的核心问题(270°时间不足)**，但引入了**新的失效模式(30°/150°发散)**。

**核心权衡**: 
- **原尺度**: 时间预算不足，但控制稳定性稍好
- **半尺度**: 时间预算充足，但某些方向控制挑战增加

**最终建议**: 
对于实际工程应用，**推荐半尺度方案**，因为：
1. **时间可行性**是硬约束，半尺度满足3000秒预算
2. **soft_reset悖论**在两个尺度中一致，表明是控制本质特性
3. **失效场景更可预测**(30°/150° vs 270°)，便于针对性优化
4. **计算效率更高**，仿真时间减半

**最佳参数组合**: `soft_reset with σ=0.003` (α=0.5, σ=0.003) 在**两个尺度实验中均表现最优**，是最稳健的选择。

---

*分析基于实验数据:*
- *原尺度: `exp_data/alos_param_ablation_20260203_113539`*
- *半尺度: `exp_data/alos_param_ablation_half_scale_20260203_141131`*